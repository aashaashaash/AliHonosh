<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cosmetic Ali Honosh</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- =======================
       ุงูููุฏุฑ ูุงูููุบู
  ======================= -->
  <div class="main-header">
    <div class="logo">
      <img src="asset/banner/logo_transparent.png?v=1"
           style="width: 100px; height: 60px; object-fit: contain; display: block; margin: 0 auto;" />
    </div>

    <!-- ุดุฑูุท ุงูุจุญุซ -->
    <form class="search-bar" onsubmit="event.preventDefault(); searchProducts();">
      <input id="searchInput" oninput="searchProducts()" placeholder="ุงุจุญุซ ุนู ููุชุฌ ุฃู ูุณู..." type="text"/>
      <button class="icon" type="submit">
        <i class="fa-solid fa-search"></i>
      </button>
    </form>
  </div>


  <!-- =======================
       ุจุฏุงูุฉ ุงูุณูุงูุฏุฑ
  ======================= -->
  <section id="image-carousel">
    <button class="prev-btn" type="button" onclick="prevImage()">โน</button>

    <div id="carousel-inner">
      <!-- ุงูุดุฑูุญุฉ 1 -->
      <div class="carousel-slide">
        <button class="slide-hit" type="button"
                onclick="filterByMainCategory('ููุชุฌุงุช ุทุจูุฉ')"
                aria-label="ููุชุฌุงุช ุทุจูุฉ">
          <img class="carousel-img cover"
               src="asset/banner/medical-hero-1000x300.jpg"
               alt="ุนูุงูุฉ ุทุจูุฉ ... ุฌูุงูู ูุณุชุญู ุงูุฃูุถู!"
               loading="eager" fetchpriority="high" decoding="async">
          <div class="slide-label no-bg-label">๐ก๏ธ ุนูุงูุฉ ุทุจูุฉ ... ุฌูุงูู ูุณุชุญู ุงูุฃูุถู!</div>
        </button>
      </div>

      <!-- ุงูุดุฑูุญุฉ 2 -->
      <div class="carousel-slide">
        <button class="slide-hit" type="button"
                onclick="filterByMainCategory('ููุงูู ูููุงุก')"
                aria-label="ููุงูู ูููุงุก">
          <img class="carousel-img cover"
               src="https://i.ibb.co/tT6zwm3h/image.jpg"
               alt="ุซุจุงุช ูุฏูู - ููุงูู ูููุงุก"
               loading="lazy" decoding="async">
          <div class="slide-label no-bg-label">๐ง ุซุจุงุช ูุฏูู... ููุงููุฉ ูููุงุกุ ููุงููุฉ ููู ุดูุก!</div>
        </button>
      </div>

      <!-- ุงูุดุฑูุญุฉ 3 -->
      <div class="carousel-slide">
        <button class="slide-hit" type="button"
                onclick="filterByMainCategory('ุนุถูู')"
                aria-label="ุนุถูู">
          <img class="carousel-img cover"
               src="https://i.ibb.co/Rp3FR2bD/image.jpg"
               alt="ุฌูุงูู ุทุจูุนู ูุซู ููููุงุชูุง"
               loading="lazy" decoding="async">
          <div class="slide-label no-bg-label">๐ฟ ุฌูุงูู ุทุจูุนูโฆ ูุซู ููููุงุชูุง ูู ุงูุทุจูุนุฉ ูุจุงุดุฑุฉ</div>
        </button>
      </div>
    </div>

    <div class="carousel-dots" id="carousel-dots"></div>
    <button class="next-btn" type="button" onclick="nextImage()">โบ</button>
  </section>
  <!-- =======================
       ููุงูุฉ ุงูุณูุงูุฏุฑ
  ======================= -->


  <!-- ุจุงูู ุงูุฃูุณุงู ูุงูููุชุฌุงุช -->
  <div id="categories"></div>
  <div id="dropdown" class="hide"></div>
  <div id="products" class="products"></div>

  <!-- =======================
       ุณูุฑุจุช ุงูุณูุงูุฏุฑ
  ======================= -->
  <script>
  let currentSlide = 0;
  let interval;

  function showSlide(index) {
    const slides = document.querySelectorAll('#carousel-inner .carousel-slide');
    const track = document.getElementById('carousel-inner');
    const dots = document.querySelectorAll('#carousel-dots .dot');

    if (!slides.length) return;
    currentSlide = (index + slides.length) % slides.length;

    track.style.transform = 'translateX(-' + currentSlide * 100 + '%)';

    dots.forEach(dot => dot.classList.remove('active'));
    if (dots[currentSlide]) dots[currentSlide].classList.add('active');
  }

  function nextImage() { showSlide(currentSlide + 1); }
  function prevImage() { showSlide(currentSlide - 1); }

  function createDots() {
    const dotContainer = document.getElementById("carousel-dots");
    const slides = document.querySelectorAll("#carousel-inner .carousel-slide");
    dotContainer.innerHTML = "";
    slides.forEach((_, i) => {
      const dot = document.createElement("span");
      dot.className = "dot" + (i === 0 ? " active" : "");
      dot.onclick = () => showSlide(i);
      dotContainer.appendChild(dot);
    });
  }

  function startAutoSlide() { interval = setInterval(nextImage, 4000); }
  function pauseAutoSlide() { clearInterval(interval); }

  document.addEventListener("DOMContentLoaded", () => {
    createDots();
    showSlide(0);
    startAutoSlide();

    const carousel = document.getElementById("image-carousel");
    carousel.addEventListener("mouseenter", pauseAutoSlide);
    carousel.addEventListener("mouseleave", startAutoSlide);

    // ุณุญุจ ุจุงูููุณ (ููุจุงูู)
    let startX = 0;
    const track = document.getElementById("carousel-inner");
    track.addEventListener("touchstart", e => { startX = e.touches[0].clientX; });
    track.addEventListener("touchend", e => {
      const endX = e.changedTouches[0].clientX;
      if (startX - endX > 50) nextImage();
      else if (endX - startX > 50) prevImage();
    });
  });
  </script>
</body>
</html>
